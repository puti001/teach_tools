<html><head><base href="." />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Puti-Ai æ–‡å­—è½‰åœ–ç‰‡ç”¢ç”Ÿå™¨</title>
<style>
body {
    font-family: "Microsoft JhengHei", Arial, sans-serif;
    background: #f0f2f5;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}

.container {
    background: white;
    padding: 2rem;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    max-width: 800px;
    width: 90%;
}

textarea {
    width: 100%;
    height: 150px;
    margin: 1rem 0;
    padding: 1rem;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
    resize: vertical;
}

.controls {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

select, input[type="number"] {
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 5px;
}

button {
    background: #1877f2;
    color: white;
    border: none;
    padding: 0.8rem 1.5rem;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background 0.3s;
}

button:hover {
    background: #166fe5;
}

#output {
    margin-top: 1rem;
    border: 2px solid #ddd;
    border-radius: 5px;
    min-height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.download-btn {
    background: #42b72a;
    margin-top: 1rem;
}

.download-btn:hover {
    background: #36a420;
}

.emoji-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
    gap: 0.5rem;
    margin: 1rem 0;
}

.emoji-btn {
    background: #f0f2f5;
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 0.5rem;
    cursor: pointer;
    font-size: 1.2rem;
    transition: all 0.3s;
}

.emoji-btn:hover {
    background: #e4e6eb;
    transform: scale(1.1);
}
</style>
</head>
<body>
<div class="container">
    <h1>Puti-Ai æ–‡å­—è½‰åœ–ç‰‡ç”¢ç”Ÿå™¨</h1>
    <p>å°‡æ–‡å­—è½‰æ›æˆåœ–ç‰‡ï¼Œé¿å…è¢«ç¤¾ç¾¤åª’é«”éæ¿¾ (è‡ªå‹•åŠ å…¥ç›¸é—œè¡¨æƒ…ç¬¦è™Ÿ)</p>
    
    <textarea id="inputText" placeholder="è«‹è¼¸å…¥è¦è½‰æ›çš„æ–‡å­—..."></textarea>
    
    <div class="emoji-grid" id="emojiGrid"></div>
    
    <div class="controls">
        <select id="fontFamily">
            <option value="Microsoft JhengHei">å¾®è»Ÿæ­£é»‘é«”</option>
            <option value="PMingLiU">æ–°ç´°æ˜é«”</option>
            <option value="DFKai-SB">æ¨™æ¥·é«”</option>
        </select>
        
        <input type="number" id="fontSize" value="24" min="12" max="72" step="2">
        
        <select id="bgColor">
            <option value="#FFFFFF">ç™½è‰²èƒŒæ™¯</option>
            <option value="#000000">é»‘è‰²èƒŒæ™¯</option>
            <option value="#F0F2F5">è‡‰æ›¸ç°</option>
        </select>
        
        <select id="textColor">
            <option value="#000000">é»‘è‰²æ–‡å­—</option>
            <option value="#FFFFFF">ç™½è‰²æ–‡å­—</option>
            <option value="#1877F2">è‡‰æ›¸è—</option>
        </select>
    </div>
    
    <button onclick="generateImage()">ç”Ÿæˆåœ–ç‰‡</button>
    
    <div id="output"></div>
    <button class="download-btn" onclick="downloadImage()" style="display:none">ä¸‹è¼‰åœ–ç‰‡</button>
</div>

<script>
const emojiList = {
    'ğŸ¤–': 'AI/æ©Ÿå™¨äºº',
    'ğŸ§ ': 'æ™ºèƒ½/æ€è€ƒ',
    'ğŸ’»': 'é›»è…¦/ç¨‹å¼',
    'ğŸ“±': 'æ‰‹æ©Ÿ/æ‡‰ç”¨',
    'ğŸ”': 'æœå°‹/æ¢ç´¢',
    'ğŸ“Š': 'æ•¸æ“šåˆ†æ',
    'ğŸŒ': 'ç¶²è·¯/å…¨çƒ',
    'âš™ï¸': 'è¨­å®š/ç³»çµ±',
    'ğŸ“ˆ': 'æˆé•·/é€²æ­¥',
    'ğŸ’¡': 'å‰µæ„/æƒ³æ³•',
    'ğŸ¯': 'ç›®æ¨™/ç²¾æº–',
    'ğŸš€': 'å¿«é€Ÿ/ç™¼å±•',
    'ğŸ”’': 'å®‰å…¨/éš±ç§',
    'ğŸ“': 'å­¸ç¿’/æ•™è‚²',
    'ğŸ“š': 'çŸ¥è­˜/è³‡è¨Š',
    'ğŸ”—': 'é€£çµ/æ•´åˆ',
    'ğŸŒŸ': 'å‰µæ–°/äº®é»',
    'ğŸ”„': 'æ›´æ–°/å¾ªç’°',
    'ğŸ“¡': 'é€šè¨Š/å‚³è¼¸',
    'ğŸ’­': 'æ€è€ƒ/æƒ³æ³•',
    'ğŸ®': 'äº’å‹•/éŠæˆ²',
    'ğŸ”‹': 'èƒ½æº/é›»åŠ›',
    'ğŸ“': 'ç­†è¨˜/ç´€éŒ„',
    'ğŸ¨': 'è¨­è¨ˆ/å‰µä½œ',
    'ğŸ”¬': 'ç ”ç©¶/ç§‘å­¸',
    'ğŸ“²': 'é€šè¨Š/é€£æ¥',
    'ğŸŒ': 'å…¨çƒåŒ–',
    'ğŸ’ª': 'å¼·åŒ–/æå‡',
    'ğŸµ': 'è²éŸ³/éŸ³è¨Š',
    'ğŸ”¨': 'å·¥å…·/é–‹ç™¼',
    'ğŸ˜Š': 'å¾®ç¬‘',
    'ğŸ˜‚': 'ç¬‘å“­',
    'ğŸ¤”': 'æ€è€ƒ',
    'ğŸ˜…': 'å°·å°¬',
    'ğŸ˜': 'é…·',
    'ğŸ¥º': 'å¯æ†',
    'ğŸ˜¤': 'ç”Ÿæ°£',
    'ğŸ™„': 'ç™½çœ¼',
    'ğŸ˜´': 'ç¡è¦º'
};

// åˆå§‹åŒ–è¡¨æƒ…ç¬¦è™ŸæŒ‰éˆ•
const emojiGrid = document.getElementById('emojiGrid');
Object.entries(emojiList).forEach(([emoji, description]) => {
    const button = document.createElement('button');
    button.className = 'emoji-btn';
    button.innerHTML = emoji;
    button.title = description;
    button.onclick = () => insertEmoji(emoji);
    emojiGrid.appendChild(button);
});

function insertEmoji(emoji) {
    const textarea = document.getElementById('inputText');
    const start = textarea.selectionStart;
    const end = textarea.selectionEnd;
    const text = textarea.value;
    const before = text.substring(0, start);
    const after = text.substring(end);
    textarea.value = before + emoji + after;
    textarea.focus();
    textarea.selectionStart = textarea.selectionEnd = start + emoji.length;
}

const emojiMap = {
    'é–‹å¿ƒ': 'ğŸ˜Š',
    'å¿«æ¨‚': 'ğŸ˜„',
    'ç”Ÿæ°£': 'ğŸ˜ ',
    'æ†¤æ€’': 'ğŸ˜¡',
    'å‚·å¿ƒ': 'ğŸ˜¢',
    'é›£é': 'ğŸ˜­',
    'æ„›': 'â¤ï¸',
    'å–œæ­¡': 'ğŸ˜',
    'è®š': 'ğŸ‘',
    'å²å®³': 'ğŸ’ª',
    'åŠ æ²¹': 'ğŸ’ª',
    'ç¬‘': 'ğŸ˜†',
    'å“ˆå“ˆ': 'ğŸ¤£',
    'éŒ¢': 'ğŸ’°',
    'é‡‘éŒ¢': 'ğŸ’µ',
    'å·¥ä½œ': 'ğŸ’¼',
    'é›»è…¦': 'ğŸ’»',
    'æ‰‹æ©Ÿ': 'ğŸ“±',
    'ç¡è¦º': 'ğŸ˜´',
    'åƒ': 'ğŸ´',
    'é£Ÿç‰©': 'ğŸ±',
    'é£²æ–™': 'ğŸ¥¤',
    'éŸ³æ¨‚': 'ğŸµ',
    'é‹å‹•': 'ğŸƒ',
    'è³¼ç‰©': 'ğŸ›ï¸',
    'é©šè¨': 'ğŸ˜®',
    'ç–‘å•': 'â“',
    'æ™‚é–“': 'â°',
    'å¤ªé™½': 'â˜€ï¸',
    'æœˆäº®': 'ğŸŒ™',
    'ä¸‹é›¨': 'ğŸŒ§ï¸',
    'æ—…è¡Œ': 'âœˆï¸',
    'å®¶': 'ğŸ ',
    'æ›¸': 'ğŸ“š',
    'å­¸ç¿’': 'ğŸ“',
    'å¤©æ°£': 'ğŸŒ¤ï¸'
};

function addEmojis(text) {
    let result = text;
    for (let key in emojiMap) {
        if (text.includes(key)) {
            result += ' ' + emojiMap[key];
        }
    }
    return result;
}

function generateImage() {
    const text = document.getElementById('inputText').value;
    const textWithEmojis = addEmojis(text);
    const fontFamily = document.getElementById('fontFamily').value;
    const fontSize = document.getElementById('fontSize').value;
    const bgColor = document.getElementById('bgColor').value;
    const textColor = document.getElementById('textColor').value;
    
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    
    ctx.font = `${fontSize}px ${fontFamily}`;
    
    const lines = textWithEmojis.split('\n');
    let maxWidth = 0;
    for(let line of lines) {
        const metrics = ctx.measureText(line);
        maxWidth = Math.max(maxWidth, metrics.width);
    }
    
    const lineHeight = fontSize * 1.5;
    canvas.width = maxWidth + 40;
    canvas.height = lines.length * lineHeight + 40;
    
    ctx.font = `${fontSize}px ${fontFamily}`;
    
    ctx.fillStyle = bgColor;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    ctx.fillStyle = textColor;
    ctx.textBaseline = 'top';
    lines.forEach((line, index) => {
        ctx.fillText(line, 20, 20 + (index * lineHeight));
    });
    
    const output = document.getElementById('output');
    output.innerHTML = '';
    const img = document.createElement('img');
    img.src = canvas.toDataURL('image/png');
    output.appendChild(img);
    
    document.querySelector('.download-btn').style.display = 'block';
}

function downloadImage() {
    const output = document.getElementById('output');
    const img = output.querySelector('img');
    if(!img) return;
    
    const link = document.createElement('a');
    link.download = 'æ–‡å­—åœ–ç‰‡.png';
    link.href = img.src;
    link.click();
}
</script>
</body></html>