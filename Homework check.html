<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Putiä½œæ¥­ç¹³äº¤æª¢æ ¸è¡¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f0f0f0;
        }
        h1, h2 {
            text-align: center;
            color: #333;
        }
        .section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .section h2 {
            margin-top: 0;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, textarea, button {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
        }
        #studentButtons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .student-button {
            padding: 10px;
            border: none;
            cursor: pointer;
            text-align: center;
            font-size: 14px;
            border-radius: 4px;
        }
        .completed {
            background-color: #4CAF50;
            color: white;
        }
        .incomplete {
            background-color: #FFC107;
            color: black;
        }
        .not-submitted {
            background-color: #F44336;
            color: white;
        }
        .output-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .quick-select-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 10px;
        }
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            #studentButtons, .quick-select-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <h1>Putiä½œæ¥­ç¹³äº¤æª¢æ ¸è¡¨</h1>
    
    <div class="section">
        <h2>1. è¼¸å…¥å€</h2>
        <label for="nameList">åº§è™Ÿå§“åæ¸…å–®:</label>
        <textarea id="nameList" rows="5" placeholder="æ¯è¡Œè¼¸å…¥ä¸€å€‹å­¸ç”Ÿåº§è™Ÿå’Œå§“åï¼Œä¾‹å¦‚ï¼š01 ç‹å°æ˜"></textarea>
        <button onclick="saveNames()">ä¿å­˜åå–®</button>
        
        <label>å¿«é€Ÿé¸æ“‡ä½œæ¥­:</label>
        <div class="quick-select-buttons">
            <button onclick="quickSelectHomework('åœ‹ç¿’')">åœ‹ç¿’</button>
            <button onclick="quickSelectHomework('æ•¸ç¿’')">æ•¸ç¿’</button>
            <button onclick="quickSelectHomework('ç”²æœ¬')">ç”²æœ¬</button>
            <button onclick="quickSelectHomework('ä¹™æœ¬')">ä¹™æœ¬</button>
            <button onclick="quickSelectHomework('åœ‹ä½œ')">åœ‹ä½œ</button>
            <button onclick="quickSelectHomework('æ•¸ä½œ')">æ•¸ä½œ</button>
        </div>
        <label for="homework">ä½œæ¥­åç¨±å’Œé æ•¸:</label>
        <input type="text" id="homework" placeholder="ä¾‹ï¼šç¬¬ä¸‰èª²ä½œæ¥­ P.15-17">
        <button onclick="setHomework()">ç¢ºå®š</button>
    </div>

    <div class="section">
        <h2>2. æª¢æŸ¥å€</h2>
        <div id="studentButtons"></div>
    </div>

    <div class="section">
        <h2>3. è¼¸å‡ºå€</h2>
        <div class="output-buttons">
            <button onclick="generatePlainText()">è¼¸å‡ºç´”æ–‡å­—</button>
            <button onclick="copyToClipboard()">è¤‡è£½åˆ°å‰ªè²¼ç°¿</button>
            <button onclick="generateCSV()">è¼¸å‡º.csv</button>
            <button onclick="resetStatus()">é‡ç½®ç¹³äº¤ç‹€æ…‹</button>
        </div>
        <label for="output">è¼¸å‡ºçµæœ:</label>
        <textarea id="output" rows="6" readonly></textarea>
    </div>

    <div class="section">
        <h2>4. éƒµå¯„å€</h2>
        <label for="recipientList">æ”¶ä»¶è€…æ¸…å–®:</label>
        <textarea id="recipientList" rows="5" placeholder="æ¯è¡Œè¼¸å…¥ä¸€å€‹æ”¶ä»¶è€…éƒµç®±åœ°å€"></textarea>
        <button onclick="saveRecipients()">ä¿å­˜æ”¶ä»¶è€…</button>
        <button onclick="sendEmail()">å‚³é€åˆ°éƒµä»¶</button>
    </div>

    <audio id="buttonSound" src="https://assets.mixkit.co/active_storage/sfx/3005/3005-preview.mp3"></audio>

    <script>
        let savedNames = [];
        let submissions = [];
        let homework = '';
        let recipients = [];

        function playButtonSound() {
            document.getElementById('buttonSound').play();
        }

        function saveNames() {
            playButtonSound();
            const nameList = document.getElementById('nameList').value;
            savedNames = nameList.split('\n').filter(name => name.trim() !== '');
            localStorage.setItem('studentNames', JSON.stringify(savedNames));
            updateSubmissions();
        }

        function quickSelectHomework(type) {
            playButtonSound();
            const homeworkInput = document.getElementById('homework');
            const currentValue = homeworkInput.value.trim();
            homeworkInput.value = currentValue ? `${currentValue} ${type}` : type;
        }

        function setHomework() {
            playButtonSound();
            homework = document.getElementById('homework').value;
        }

        function updateSubmissions() {
            submissions = savedNames.map(name => ({ name, status: 'completed' }));
            renderButtons();
        }

        function renderButtons() {
            const container = document.getElementById('studentButtons');
            container.innerHTML = '';
            submissions.forEach((submission, index) => {
                const button = document.createElement('button');
                button.innerHTML = `${submission.name}<br>${getStatusText(submission.status)}`;
                button.className = `student-button ${submission.status}`;
                button.onclick = () => {
                    playButtonSound();
                    toggleStatus(index);
                };
                container.appendChild(button);
            });
        }

        function getStatusText(status) {
            switch (status) {
                case 'completed': return 'å®Œæˆ';
                case 'incomplete': return 'å¾…è£œ';
                case 'not-submitted': return 'æœªäº¤';
            }
        }

        function toggleStatus(index) {
            const statuses = ['completed', 'not-submitted', 'incomplete'];
            const currentIndex = statuses.indexOf(submissions[index].status);
            submissions[index].status = statuses[(currentIndex + 1) % statuses.length];
            renderButtons();
        }

        function generatePlainText() {
            playButtonSound();
            const date = new Date();
            const weekdays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
            const incomplete = submissions.filter(s => s.status === 'incomplete').map(s => s.name).join('ã€');
            const notSubmitted = submissions.filter(s => s.status === 'not-submitted').map(s => s.name).join('ã€');

            const reportText = `æ—¥æœŸï¼š${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥ æ˜ŸæœŸ${weekdays[date.getDay()]}\n` +
                               `ä½œæ¥­ï¼š${homework}\n` +
                               `å¾…è£œçš„å­¸ç”Ÿï¼š${incomplete || 'ç„¡'}\n` +
                               `æœªäº¤çš„å­¸ç”Ÿï¼š${notSubmitted || 'ç„¡'}`;

            document.getElementById('output').value = reportText;
        }

        function copyToClipboard() {
            playButtonSound();
            const outputText = document.getElementById('output');
            outputText.select();
            document.execCommand('copy');
            alert('å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿');
        }

        function generateCSV() {
            playButtonSound();
            const csvContent = [
                ['åº§è™Ÿå§“å', 'ç‹€æ…‹'],
                ...submissions.map(s => [s.name, getStatusText(s.status)])
            ].map(e => e.join(',')).join('\n');

            const blob = new Blob(['\uFEFF' + csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement("a");
            if (link.download !== undefined) {
                const url = URL.createObjectURL(blob);
                const now = new Date();
                const dateString = `${now.getFullYear()}${(now.getMonth()+1).toString().padStart(2, '0')}${now.getDate().toString().padStart(2, '0')}`;
                link.setAttribute("href", url);
                link.setAttribute("download", `ä½œæ¥­ç¹³äº¤ç‹€æ³_${dateString}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }

        function saveRecipients() {
            playButtonSound();
            const recipientList = document.getElementById('recipientList').value;
            recipients = recipientList.split('\n').filter(email => email.trim() !== '');
            localStorage.setItem('recipients', JSON.stringify(recipients));
            alert('æ”¶ä»¶è€…å·²ä¿å­˜');
        }

        function sendEmail() {
            playButtonSound();
            if (recipients.length === 0) {
                alert('è«‹å…ˆæ·»åŠ æ”¶ä»¶è€…');
                return;
            }
            const date = new Date();
            const formattedDate = `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
            const subject = encodeURIComponent(`${formattedDate}-${homework}-æª¢æ ¸é€šçŸ¥`);
            const body = encodeURIComponent(document.getElementById('output').value);
            const to = recipients.join(',');
            window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
        }

        function resetStatus() {
            playButtonSound();
            submissions.forEach(submission => submission.status = 'completed');
            renderButtons();
            alert('å·²é‡ç½®æ‰€æœ‰å­¸ç”Ÿçš„ç¹³äº¤ç‹€æ…‹ç‚º"å®Œæˆ"');
        }

        // åˆå§‹åŒ–
        const storedNames = localStorage.getItem('studentNames');
        if (storedNames) {
            savedNames = JSON.parse(storedNames);
            document.getElementById('nameList').value = savedNames.join('\n');
            updateSubmissions();
        }

        const storedRecipients = localStorage.getItem('recipients');
        if (storedRecipients) {
            recipients = JSON.parse(storedRecipients);
            document.getElementById('recipientList').value = recipients.join('\n');
        }

        // ç‚ºæ‰€æœ‰æŒ‰éˆ•æ·»åŠ éŸ³æ•ˆ
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', playButtonSound);
        });
    </script>
<div class="section">
        <h2>5. èªªæ˜å€</h2>
        <div style="white-space: pre-wrap;">
**ğŸŒŸ ä½œæ¥­ç¹³äº¤æª¢æ ¸è¡¨å°å·¥å…·ä»‹ç´¹ ğŸŒŸ**
é€™æ˜¯ä¸€å€‹å°ˆç‚ºæ•™å¸«è¨­è¨ˆçš„ç¶²é å·¥å…·ï¼Œæ—¨åœ¨ç°¡åŒ–ä½œæ¥­ç¹³äº¤ç®¡ç†æµç¨‹ã€‚å®ƒç”±æˆ‘(å±æ±ç¸£å¾Œåº„åœ‹å°é»ƒè€å¸«)èˆ‡ AI åŠ©æ‰‹ Claude åˆä½œé–‹ç™¼ã€‚

**åŠŸèƒ½èªªæ˜ï¼š**
1. å­¸ç”Ÿåå–®ç®¡ç†ï¼šå¯è¼¸å…¥å’Œä¿å­˜å­¸ç”Ÿçš„åº§è™Ÿå’Œå§“åã€‚
2. ä½œæ¥­è¨­å®šï¼šå¿«é€Ÿé¸æ“‡æˆ–è‡ªå®šç¾©ä½œæ¥­åç¨±å’Œé æ•¸ã€‚
3. ç¹³äº¤ç‹€æ…‹è¿½è¹¤ï¼šç›´è§€çš„æŒ‰éˆ•ç•Œé¢ï¼Œè¼•é¬†åˆ‡æ›å­¸ç”Ÿçš„ä½œæ¥­ç¹³äº¤ç‹€æ…‹ã€‚
4. å ±å‘Šç”Ÿæˆï¼šå¯ç”Ÿæˆç´”æ–‡å­—å ±å‘Šï¼Œæˆ–å°å‡ºç‚º CSV æ–‡ä»¶ã€‚
5. éƒµä»¶é€šçŸ¥ï¼šæ”¯æŒæ‰¹é‡ç™¼é€éƒµä»¶é€šçŸ¥çµ¦å®¶é•·æˆ–å…¶ä»–æ•™å¸«ã€‚

**è²¼å¿ƒç´°ç¯€ï¼š**
1. æœ¬åœ°å­˜å„²ï¼šå­¸ç”Ÿåå–®å’Œæ”¶ä»¶è€…æ¸…å–®æœƒä¿å­˜åœ¨ç€è¦½å™¨ä¸­ï¼Œä¸‹æ¬¡ä½¿ç”¨ç„¡éœ€é‡æ–°è¼¸å…¥ã€‚
2. æ—¥æœŸè‡ªå‹•ç”Ÿæˆï¼šCSV æ–‡ä»¶åå’Œéƒµä»¶ä¸»é¡Œæœƒè‡ªå‹•åŒ…å«ç•¶å‰æ—¥æœŸï¼Œæ–¹ä¾¿æ­¸æª”å’ŒæŸ¥æ‰¾ã€‚
3. æŒ‰éˆ•éŸ³æ•ˆï¼šæ¯æ¬¡é»æ“ŠæŒ‰éˆ•éƒ½æœƒæœ‰è¼•å¾®çš„éŸ³æ•ˆåé¥‹ï¼Œæå‡ä½¿ç”¨é«”é©—ã€‚
4. éŸ¿æ‡‰å¼è¨­è¨ˆï¼šé©é…å„ç¨®è¨­å‚™è¢å¹•å¤§å°ï¼Œæ‰‹æ©Ÿä¸Šä¹Ÿèƒ½æ–¹ä¾¿ä½¿ç”¨ã€‚
5. ç°¡æ½”ç¾è§€ï¼šç•Œé¢ç¶“éç²¾å¿ƒè¨­è¨ˆï¼Œæ—¢ç¾è§€åˆæ˜“æ–¼ä½¿ç”¨ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
1.  è¼¸å…¥å€ï¼š
   * åœ¨æ–‡æœ¬æ¡†ä¸­è¼¸å…¥å­¸ç”Ÿåº§è™Ÿå’Œå§“åï¼Œæ¯è¡Œä¸€å€‹ï¼Œç„¶å¾Œé»æ“Š"ä¿å­˜åå–®"ã€‚
   * ä½¿ç”¨å¿«é€Ÿé¸æ“‡æŒ‰éˆ•æˆ–ç›´æ¥è¼¸å…¥ä½œæ¥­ä¿¡æ¯ï¼Œé»æ“Š"ç¢ºå®š"ä¿å­˜ã€‚
2. æª¢æŸ¥å€ï¼š
   * é»æ“Šå­¸ç”ŸæŒ‰éˆ•åˆ‡æ›ç¹³äº¤ç‹€æ…‹ï¼ˆå®Œæˆã€å¾…è£œã€æœªäº¤ï¼‰ã€‚
3. è¼¸å‡ºå€ï¼š
   * é»æ“Š"è¼¸å‡ºç´”æ–‡å­—"ç”Ÿæˆå ±å‘Šï¼Œå¯ä»¥è¤‡è£½æˆ–å°å‡ºç‚º CSV æ–‡ä»¶ã€‚
   * ä½¿ç”¨"é‡ç½®ç¹³äº¤ç‹€æ…‹"å¯å°‡æ‰€æœ‰å­¸ç”Ÿç‹€æ…‹æ¢å¾©ç‚º"å®Œæˆ"ã€‚
4.  éƒµå¯„å€ï¼š
   * è¼¸å…¥æ”¶ä»¶è€…éƒµç®±åœ°å€ï¼Œæ¯è¡Œä¸€å€‹ï¼Œç„¶å¾Œä¿å­˜ã€‚
   * é»æ“Š"å‚³é€åˆ°éƒµä»¶"ï¼Œå°‡è‡ªå‹•æ‰“é–‹é»˜èªéƒµä»¶ç¨‹åºï¼Œç”ŸæˆåŒ…å«å ±å‘Šå…§å®¹çš„æ–°éƒµä»¶ã€‚

é€™å€‹å·¥å…·å¤§å¤§ç°¡åŒ–äº†ä½œæ¥­ç¹³äº¤çš„ç®¡ç†æµç¨‹ï¼Œå¹«åŠ©æ•™å¸«æ›´é«˜æ•ˆåœ°è¿½è¹¤å­¸ç”Ÿä½œæ¥­ç‹€æ³ï¼Œä¸¦æ–¹ä¾¿åœ°èˆ‡å®¶é•·æˆ–å…¶ä»–æ•™å¸«é€²è¡Œæºé€šã€‚ç„¡è«–æ˜¯æ—¥å¸¸ä½œæ¥­ç®¡ç†é‚„æ˜¯å®šæœŸå½™å ±ï¼Œéƒ½èƒ½æ´¾ä¸Šç”¨å ´
        </div>
    </div>

    <footer style="text-align: center; margin-top: 20px; color: #666;">
        å±æ±ç¸£å¾Œåº„åœ‹å°é»ƒè€å¸«èˆ‡AI åŠ©æ‰‹ Claude åˆä½œé–‹ç™¼ã€‚<br>
        æ›´æ–°æ—¥æœŸï¼š2024å¹´7æœˆ5æ—¥
    </footer>
</body>
</html>
