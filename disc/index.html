<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Puti-AI 椎間盤復健日記</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon.png">
    <script type="importmap">
    {
        "imports": {
            "main": "./main.js",
            "ui": "./ui.js",
            "storage": "./storage.js",
            "audio": "./audio.js",
            "utils": "./utils.js"
        }
    }
    </script>
</head>
<body>
    <div id="app-container">
        <header>
            <h1>Puti-AI椎間盤復健日記</h1>
        </header>

        <main id="app-main">
            <!-- Pages will be injected here -->
        </main>

        <nav id="app-nav">
            <button data-page="home" class="nav-btn active">
                <img src="icon-home.png" alt="運動打卡">
                <span>運動打卡</span>
            </button>
            <button data-page="assessment" class="nav-btn">
                <img src="icon-chart.png" alt="評估記錄">
                <span>評估記錄</span>
            </button>
            <button data-page="settings" class="nav-btn">
                <img src="icon-settings.png" alt="設定">
                <span>設定</span>
            </button>
        </nav>
    </div>

    <!-- Modals -->
    <div id="modal-container" class="hidden">
        <div id="alarm-modal" class="modal-content hidden">
            <h2>時間到了！</h2>
            <p>該做復健運動囉！</p>
            <button id="dismiss-alarm-btn" class="btn-primary">關閉提醒</button>
        </div>

        <div id="assessment-modal" class="modal-content hidden">
            <h3>記錄麻木狀況</h3>
            <form id="assessment-form">
                <label for="numbness-level">麻木程度 (0-10):</label>
                <div class="slider-container">
                    <span>0</span>
                    <input type="range" id="numbness-level" min="0" max="10" value="5">
                    <span>10</span>
                </div>
                <output for="numbness-level" id="numbness-value">5</output>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-assessment-btn">取消</button>
                    <button type="submit" class="btn btn-primary">儲存</button>
                </div>
            </form>
        </div>
        
        <div id="exercise-modal" class="modal-content hidden">
            <h3 id="exercise-modal-title">新增運動</h3>
            <form id="exercise-form">
                <input type="hidden" id="exercise-id">
                <label for="exercise-name">運動名稱:</label>
                <input type="text" id="exercise-name" required>
                <div class="modal-actions">
                    <button type="button" class="btn btn-danger hidden" id="delete-exercise-btn">刪除</button>
                    <button type="button" class="btn btn-secondary" id="cancel-exercise-btn">取消</button>
                    <button type="submit" class="btn btn-primary">儲存</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
